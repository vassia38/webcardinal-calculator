import{x as n,v as a,y as t,U as o}from"./p-61cc1f50.js";import{p as r}from"./p-794858b0.js";import"./p-0c3518a5.js";async function e(n){try{return await r(n.getRoutingStateEvent)}catch(n){return console.error('Routing configuration can not be obtained from "webc-app-loader"!\n',n),null}}const{join:s}=o,i={loadAndSetTranslationsForPage:async o=>{var r;const{basePath:e,mapping:i}=o,c=n();window.WebCardinal.translations||(window.WebCardinal.translations={});const{translations:p}=window.WebCardinal;let{pathname:l}=window.location;if(l.endsWith("/")&&"/"!==l&&(l=l.slice(0,-1)),null===(r=p[c])||void 0===r?void 0:r[l])return!0;const u=i[l];if(!u)return console.warn("No HTML page mapping was found for the current pathname: "+l),!1;if(u.startsWith("http"))return console.warn("Translations for external sources are not supported yet!"),!1;let d=u.slice(0,u.lastIndexOf("."))+".translate",[f,w]=await a(s(e,t(),d).pathname);return f?"default"!==c&&([f,w]=await a(s(e,d).pathname),!f&&(p.default||(p.default={}),p.default[l]=w,!0)):(p[c]||(p[c]={}),p[c][l]=w,!0)}};export{i as C,e as r}