let n=!1;const t="undefined"!=typeof window?window:{},e=t.document||{head:{}},o={t:0,o:"",jmp:n=>n(),raf:n=>requestAnimationFrame(n),ael:(n,t,e,o)=>n.addEventListener(t,e,o),rel:(n,t,e,o)=>n.removeEventListener(t,e,o),ce:(n,t)=>new CustomEvent(n,t)},l=n=>Promise.resolve(n),s={},c=n=>"object"==(n=typeof n)||"function"===n,i=(n,t,...e)=>{let o=null,l=!1,s=!1,i=[];const r=t=>{for(let e=0;e<t.length;e++)o=t[e],Array.isArray(o)?r(o):null!=o&&"boolean"!=typeof o&&((l="function"!=typeof n&&!c(o))&&(o+=""),l&&s?i[i.length-1].l+=o:i.push(l?a(null,o):o),s=l)};if(r(e),t){const n=t.className||t.class;n&&(t.class="object"!=typeof n?n:Object.keys(n).filter((t=>n[t])).join(" "))}const u=a(n,null);return u.i=t,i.length>0&&(u.u=i),u},a=(n,t)=>({t:0,m:n,l:t,h:null,u:null,i:null}),r={},u=(n,e,l,s,i,a)=>{if(l!==s){let r=A(n,e),u=e.toLowerCase();if("class"===e){const t=n.classList,e=f(l),o=f(s);t.remove(...e.filter((n=>n&&!o.includes(n)))),t.add(...o.filter((n=>n&&!e.includes(n))))}else if("style"===e){for(const t in l)s&&null!=s[t]||(t.includes("-")?n.style.removeProperty(t):n.style[t]="");for(const t in s)l&&s[t]===l[t]||(t.includes("-")?n.style.setProperty(t,s[t]):n.style[t]=s[t])}else if(r||"o"!==e[0]||"n"!==e[1]){const t=c(s);if((r||t&&null!==s)&&!i)try{if(n.tagName.includes("-"))n[e]=s;else{let t=null==s?"":s;"list"===e?r=!1:null!=l&&n[e]==t||(n[e]=t)}}catch(n){}null==s||!1===s?!1===s&&""!==n.getAttribute(e)||n.removeAttribute(e):(!r||4&a||i)&&!t&&n.setAttribute(e,s=!0===s?"":s)}else e="-"===e[2]?e.slice(3):A(t,u)?u.slice(2):u[2]+e.slice(3),l&&o.rel(n,e,l,!1),s&&o.ael(n,e,s,!1)}},d=/\s/,f=n=>n?n.split(d):[],w=(n,t,e,o)=>{const l=11===t.h.nodeType&&t.h.host?t.h.host:t.h,c=n&&n.i||s,i=t.i||s;for(o in c)o in i||u(l,o,c[o],void 0,e,t.t);for(o in i)u(l,o,c[o],i[o],e,t.t)},m=(n,t,o)=>{let l,s,c=t.u[o],i=0;if(null!==c.l)l=c.h=e.createTextNode(c.l);else if(l=c.h=e.createElement(c.m),w(null,c,!1),c.u)for(i=0;i<c.u.length;++i)s=m(n,c,i),s&&l.appendChild(s);return l},b=(n,t,e,o,l,s)=>{let c,i=n;for(;l<=s;++l)o[l]&&(c=m(null,e,l),c&&(o[l].h=c,i.insertBefore(c,t)))},h=(n,t,e,o)=>{for(;t<=e;++t)(o=n[t])&&o.h.remove()},p=(n,t)=>n.m===t.m,y=(n,t)=>{const e=t.h=n.h,o=n.u,l=t.u,s=t.l;null===s?(w(n,t,!1),null!==o&&null!==l?((n,t,e,o)=>{let l,s=0,c=0,i=t.length-1,a=t[0],r=t[i],u=o.length-1,d=o[0],f=o[u];for(;s<=i&&c<=u;)null==a?a=t[++s]:null==r?r=t[--i]:null==d?d=o[++c]:null==f?f=o[--u]:p(a,d)?(y(a,d),a=t[++s],d=o[++c]):p(r,f)?(y(r,f),r=t[--i],f=o[--u]):p(a,f)?(y(a,f),n.insertBefore(a.h,r.h.nextSibling),a=t[++s],f=o[--u]):p(r,d)?(y(r,d),n.insertBefore(r.h,a.h),r=t[--i],d=o[++c]):(l=m(t&&t[c],e,c),d=o[++c],l&&a.h.parentNode.insertBefore(l,a.h));s>i?b(n,null==o[u+1]?null:o[u+1].h,e,o,c,u):c>u&&h(t,s,i)})(e,o,t,l):null!==l?(null!==n.l&&(e.textContent=""),b(e,null,t,l,0,l.length-1)):null!==o&&h(o,0,o.length-1)):n.l!==s&&(e.data=s)},$=n=>D(n).p,g=(n,t)=>{t&&!n.$&&t["s-p"]&&t["s-p"].push(new Promise((t=>n.$=t)))},E=(n,t)=>{if(n.t|=16,!(4&n.t))return g(n,n.g),G((()=>T(n,t)));n.t|=512},T=(n,t)=>{const e=n.T;let o;return t&&(o=L(e,"componentWillLoad")),o=M(o,(()=>L(e,"componentWillRender"))),M(o,(()=>v(n,e)))},v=async(n,t)=>{const e=n.p,o=e["s-rc"];((n,t)=>{const e=n.p,o=n.v||a(null,null),l=(n=>n&&n.m===r)(t)?t:i(null,null,t);l.m=null,l.t|=4,n.v=l,l.h=o.h=e,y(o,l)})(n,C(n,t)),o&&(o.map((n=>n())),e["s-rc"]=void 0);{const t=e["s-p"],o=()=>k(n);0===t.length?o():(Promise.all(t).then(o),n.t|=4,t.length=0)}},C=(n,t)=>{try{t=t.render(),n.t&=-17,n.t|=2}catch(t){H(t,n.p)}return t},k=n=>{const t=n.p,e=n.T,o=n.g;L(e,"componentDidRender"),64&n.t||(n.t|=64,O(t),L(e,"componentDidLoad"),n.C(t),o||P()),n.$&&(n.$(),n.$=void 0),512&n.t&&F((()=>E(n,!1))),n.t&=-517},P=()=>{O(e.documentElement),F((()=>(n=>{const t=o.ce("appload",{detail:{namespace:"webcardinal"}});return n.dispatchEvent(t),t})(t)))},L=(n,t,e)=>{if(n&&n[t])try{return n[t](e)}catch(n){H(n)}},M=(n,t)=>n&&n.then?n.then(t):t(),O=n=>n.classList.add("hydrated"),j=(n,t,e)=>{if(t.k){n.watchers&&(t.P=n.watchers);const l=Object.entries(t.k),s=n.prototype;if(l.map((([n,[o]])=>{(31&o||2&e&&32&o)&&Object.defineProperty(s,n,{get(){return((n,t)=>D(this).L.get(t))(0,n)},set(e){((n,t,e,o)=>{const l=D(n),s=l.p,i=l.L.get(t),a=l.t,r=l.T;if(e=((n,t)=>null==n||c(n)?n:4&t?"false"!==n&&(""===n||!!n):1&t?n+"":n)(e,o.k[t][0]),!(8&a&&void 0!==i||e===i)&&(l.L.set(t,e),r)){if(o.P&&128&a){const n=o.P[t];n&&n.map((n=>{try{r[n](e,i,t)}catch(n){H(n,s)}}))}2==(18&a)&&E(l,!1)}})(this,n,e,t)},configurable:!0,enumerable:!0})})),1&e){const t=new Map;s.attributeChangedCallback=function(n,e,l){o.jmp((()=>{const e=t.get(n);this[e]=(null!==l||"boolean"!=typeof this[e])&&l}))},n.observedAttributes=l.filter((([n,t])=>15&t[0])).map((([n,e])=>{const o=e[1]||n;return t.set(o,n),o}))}}return n},R=n=>{L(n,"connectedCallback")},W=(n,l={})=>{const s=[],c=l.exclude||[],i=t.customElements,a=e.head,r=a.querySelector("meta[charset]"),u=e.createElement("style"),d=[];let f,w=!0;Object.assign(o,l),o.o=new URL(l.resourcesUrl||"./",e.baseURI).href,n.map((n=>n[1].map((t=>{const e={t:t[0],M:t[1],k:t[2],O:t[3]};e.k=t[2],e.P={};const l=e.M,a=class extends HTMLElement{constructor(n){super(n),_(n=this,e)}connectedCallback(){f&&(clearTimeout(f),f=null),w?d.push(this):o.jmp((()=>(n=>{if(0==(1&o.t)){const t=D(n),e=t.j,o=()=>{};if(1&t.t)R(t.T);else{t.t|=1;{let e=n;for(;e=e.parentNode||e.host;)if(e["s-p"]){g(t,t.g=e);break}}e.k&&Object.entries(e.k).map((([t,[e]])=>{if(31&e&&n.hasOwnProperty(t)){const e=n[t];delete n[t],n[t]=e}})),(async(n,t,e,o,l)=>{if(0==(32&t.t)){if(t.t|=32,(l=q(e)).then){const n=()=>{};l=await l,n()}l.isProxied||(e.P=l.watchers,j(l,e,2),l.isProxied=!0);const n=()=>{};t.t|=8;try{new l(t)}catch(n){H(n)}t.t&=-9,t.t|=128,n(),R(t.T)}const s=t.g,c=()=>E(t,!0);s&&s["s-rc"]?s["s-rc"].push(c):c()})(0,t,e)}o()}})(this)))}disconnectedCallback(){o.jmp((()=>(()=>{0==(1&o.t)&&L(D(this).T,"disconnectedCallback")})()))}componentOnReady(){return D(this).R}};e.W=n[0],c.includes(l)||i.get(l)||(s.push(l),i.define(l,j(a,e,1)))})))),u.innerHTML=s+"{visibility:hidden}.hydrated{visibility:inherit}",u.setAttribute("data-styles",""),a.insertBefore(u,r?r.nextSibling:a.firstChild),w=!1,d.length?d.map((n=>n.connectedCallback())):o.jmp((()=>f=setTimeout(P,30)))},x=new WeakMap,D=n=>x.get(n),S=(n,t)=>x.set(t.T=n,t),_=(n,t)=>{const e={t:0,p:n,j:t,L:new Map};return e.R=new Promise((n=>e.C=n)),n["s-p"]=[],n["s-rc"]=[],x.set(n,e)},A=(n,t)=>t in n,H=(n,t)=>(0,console.error)(n,t),V=new Map,q=n=>{const t=n.M.replace(/-/g,"_"),e=n.W,o=V.get(e);return o?o[t]:import(`./${e}.entry.js`).then((n=>(V.set(e,n),n[t])),H)},I=[],N=[],U=(t,e)=>l=>{t.push(l),n||(n=!0,e&&4&o.t?F(z):o.raf(z))},Y=n=>{for(let t=0;t<n.length;t++)try{n[t](performance.now())}catch(n){H(n)}n.length=0},z=()=>{Y(I),Y(N),(n=I.length>0)&&o.raf(z)},F=n=>l().then(n),G=U(N,!0);function B(n,t,e=!1,o=null){const l=new CustomEvent(n,t);e&&(o?o.dispatchEvent(l):document.dispatchEvent(l))}function J(n){return n&&"string"==typeof n&&0!==n.length?n.split("").map((n=>n===n.toLowerCase()?n:"-"+n.toLowerCase())).join(""):""}function K(n){if("string"!=typeof n)throw Error("Invalid model chain");return n.split("@").join("")}function Q(n){if("boolean"==typeof n)return n;if("string"==typeof n)switch(n.toLowerCase().trim()){case"true":case"1":return!0;case"false":case"0":case null:return!1;default:return!!n}return!!n}function X(n){return n.replace(/-([a-z])/g,(function(n){return n[1].toUpperCase()}))}function Z(n,t){const e=document.createElement("style");e.innerHTML=t,n.appendChild(e)}window.cardinal=window.cardinal||{},window.cardinal.oldCustomTheme=window.cardinal.oldCustomTheme||{};const{oldCustomTheme:nn}=window.cardinal;nn.dependencies=nn.dependencies||{},nn.imports=nn.imports||{},nn.appTheme=nn.appTheme||null;const{dependencies:tn,imports:en}=nn,on=/@import.*?["']([^"']+)["'].*?;/g;function ln(n){return new Promise(((t,e)=>{fetch(n).then((n=>{if(n.ok)return t(n.text());e({url:n.url,status:n.status,statusText:n.statusText})}))}))}function sn(n,t){return!!t&&(t.shadowRoot?n.parentNode===t.shadowRoot.host:sn(t,t.parentElement))}function cn(){let n=n=>{let t={};n.addEventListener("styleExists",(e=>{e.stopImmediatePropagation(),e.preventDefault();let o=e.detail.componentTag;(0,e.detail.callback)(void 0,t.hasOwnProperty(o),n),t[o]||(t[o]=!0)})),n.addEventListener("componentWasRemoved",(n=>{let e=n.detail.componentTag;t[e]&&delete t[e]}))};return n(document.querySelector("body")),t=>{const{componentWillLoad:e,disconnectedCallback:o}=t;t.componentWillLoad=function(){const t=$(this);if(t&&t.isConnected){let o=o=>{let l="";window&&(window.basePath?l=window.basePath:window.WebCardinal&&window.WebCardinal.basePath&&(l=window.WebCardinal.basePath));let s=t.tagName.toLowerCase(),c=n=>new Promise((t=>{let c=l+"/themes/"+o+"/components/"+s+"/"+s+".css";tn[c]||(tn[c]=new Promise(((n,t)=>{ln(c).then((t=>{n(t)})).catch(t)}))),tn[c].then((t=>{(function(n,t){return en[n]||(en[n]=new Promise(((n,e)=>{on.exec(t)?t.replace(on,((o,l)=>{tn[l]||(tn[l]=ln(l)),tn[l].then((e=>{n(t.replace(o,e))})).catch(e)})):n(t)}))),en[n]})(c,t).then((t=>{let e=document.createElement("style");e.innerHTML=t,n.append(e)}))})).catch((n=>{console.log(`Request on resource ${n.url} ended with status: ${n.status} (${n.statusText})`)})).finally((()=>{t(e&&e.call(this))}))}));return t.shadowRoot?(n(t),c(t.shadowRoot)):new Promise(t.isConnected?n=>{let o=sn(t,t.parentElement);t.isSlotted=o;let l=new CustomEvent("styleExists",{bubbles:!0,cancelable:!0,composed:!0,detail:{callback:(t,l,s)=>{t?console.log(t):l?n(e&&e.call(this)):(o||(s=s.shadowRoot),c(s).then((()=>{n()})))},componentTag:o?"SLOTTED:"+s:s}});t.dispatchEvent(l)}:n=>{n(e&&e.call(this))})};return nn.appTheme?o(nn.appTheme):new Promise((n=>{let e=new CustomEvent("getThemeConfig",{bubbles:!0,cancelable:!0,composed:!0,detail:(t,e)=>{if(t)return console.log(t);nn.appTheme=e,o(nn.appTheme).then((()=>{n()}))}});t.dispatchEvent(e)}))}return e&&e.call(this)},t.disconnectedCallback=function(){const n=$(this);let t=n.tagName.toLowerCase();n.isSlotted&&(t="SLOTTED:"+t);let e=new CustomEvent("componentWasRemoved",{bubbles:!0,cancelable:!0,composed:!0,detail:{componentTag:t}});n.dispatchEvent(e),o&&o.call(this)}}}window.cardinal=window.cardinal||{},window.cardinal.customTheme=window.cardinal.customTheme||{THEME:void 0,IMPORTS:{},EVENTS:{GET_THEME:"getThemeConfig",ADD_STYLE:"CustomTheme:add-style",REMOVE_STYLE:"CustomTheme:remove-style"}};const an=window.cardinal.customTheme;async function rn(n){let t="";window&&(window.basePath?t=window.basePath:window.WebCardinal&&window.WebCardinal.basePath&&(t=window.WebCardinal.basePath));const e=n.tagName.toLowerCase(),o=n.mode||n.getAttribute("mode")||"default",l=`${t}/themes/${an.THEME}/components/${e}/${e+("default"!==o?"."+o:"")+".css"}`;if(!an.IMPORTS[l]){const[n,t]=await async function(n){try{const t=await function(n,t=null){let e=window.$$;return e&&e.SSAPP_CONTEXT&&e.SSAPP_CONTEXT.BASE_URL&&e.SSAPP_CONTEXT.SEED&&0!==n.indexOf(e.SSAPP_CONTEXT.BASE_URL)&&0!==n.indexOf("data:image")&&(n=`${e.SSAPP_CONTEXT.BASE_URL}${0===n.indexOf("/")?n.substr(1):n}`),fetch(n,t)}(n);return[!0,await t.text()]}catch(n){return console.log(n),[!1]}}(l);if(!n)return;an.IMPORTS[l]=t}const s=an.IMPORTS[l];n.shadowRoot?(function(n){const t=n.host,e={true:{},false:{}};t.addEventListener(an.EVENTS.ADD_STYLE,(o=>{o.preventDefault(),o.stopImmediatePropagation();const{data:{tag:l,slotted:s},callback:c}=o.detail;e[s][l]||(c(void 0,s?{target:t}:{target:n}),e[s][l]=!0)})),t.addEventListener(an.EVENTS.REMOVE_STYLE,(n=>{n.preventDefault(),n.stopImmediatePropagation();const{data:{tag:t,slotted:o}}=n.detail;e[o][t]=!1}))}(n.shadowRoot),Z(n.shadowRoot,s)):(n.isSlotted=function(n){for(;n.parentElement;){if(n.parentElement.shadowRoot)return n.parentElement.shadowRoot.host===n.parentNode;n=n.parentElement}return!1}(n),n.dispatchEvent(new CustomEvent(an.EVENTS.ADD_STYLE,{bubbles:!0,cancelable:!0,composed:!0,detail:{data:{tag:e,slotted:n.isSlotted},callback:async(n,t)=>{if(n)return console.log(n);const{target:e}=t;Z(e,s)}}})))}function un(){return n=>{const{componentWillLoad:t,disconnectedCallback:e}=n;n.componentWillLoad=async function(){const n=$(this);return(n||n.isConnected)&&(an.THEME?await rn(n):await async function(n,t){n.dispatchEvent(new CustomEvent(an.EVENTS.GET_THEME,{bubbles:!0,cancelable:!0,composed:!0,detail:async(e,o)=>{if(e)return console.log(e);an.THEME=o,await t(n)}}))}(n,rn)),t&&t.call(this)},n.disconnectedCallback=async function(){const n=$(this);return n.dispatchEvent(new CustomEvent(an.EVENTS.REMOVE_STYLE,{bubbles:!0,cancelable:!0,composed:!0,detail:{data:{tag:n.tagName.toLowerCase(),slotted:!!n.isSlotted}}})),e&&e.call(this)}}}window.cardinal=window.cardinal||{},window.cardinal.controllers=window.cardinal.controllers||{},window.cardinal.pendingControllerRequests=window.cardinal.pendingControllerRequests||{};export{cn as C,un as a,W as b,J as c,X as d,B as e,$ as g,i as h,K as n,l as p,S as r,Q as s}